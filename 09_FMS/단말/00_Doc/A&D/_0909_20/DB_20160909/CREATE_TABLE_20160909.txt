/* AI 히스토리(모니터링) */
CREATE TABLE TFMS_AIHIST_DTL (
	HIST_ID VARCHAR2(24) NOT NULL, /* HIST_ID */
	FCLT_ID VARCHAR2(4) NOT NULL, /* 장치_ID */
	SITE_ID VARCHAR2(4) NOT NULL, /* 국소ID */
	TIME DATE NOT NULL, /* 시간 */
	S01 VARCHAR2(6), /* 온도 */
	S02 VARCHAR2(6), /* 습도 */
	S03 VARCHAR2(6), /* 상전압R */
	S04 VARCHAR2(6), /* 상전압S */
	S05 VARCHAR2(6), /* 상전압T */
	S06 VARCHAR2(6), /* 주파수 */
	S07 VARCHAR2(6), /* 예비1 */
	S08 VARCHAR2(6), /* 예비2 */
	TRANS_CHK VARCHAR2(1) NOT NULL /* 트렌젠션성공여부(ACK) */
);

COMMENT ON TABLE TFMS_AIHIST_DTL IS 'AI 히스토리(모니터링)';

COMMENT ON COLUMN TFMS_AIHIST_DTL.HIST_ID IS 'HIST_ID';

COMMENT ON COLUMN TFMS_AIHIST_DTL.FCLT_ID IS '장치_ID';

COMMENT ON COLUMN TFMS_AIHIST_DTL.SITE_ID IS '국소ID';

COMMENT ON COLUMN TFMS_AIHIST_DTL.TIME IS '시간';

COMMENT ON COLUMN TFMS_AIHIST_DTL.S01 IS '온도';

COMMENT ON COLUMN TFMS_AIHIST_DTL.S02 IS '습도';

COMMENT ON COLUMN TFMS_AIHIST_DTL.S03 IS '상전압R';

COMMENT ON COLUMN TFMS_AIHIST_DTL.S04 IS '상전압S';

COMMENT ON COLUMN TFMS_AIHIST_DTL.S05 IS '상전압T';

COMMENT ON COLUMN TFMS_AIHIST_DTL.S06 IS '주파수';

COMMENT ON COLUMN TFMS_AIHIST_DTL.S07 IS '예비1';

COMMENT ON COLUMN TFMS_AIHIST_DTL.S08 IS '예비2';

COMMENT ON COLUMN TFMS_AIHIST_DTL.TRANS_CHK IS '트렌젠션성공여부(ACK)';

CREATE UNIQUE INDEX PK_TFMS_AIHIST_DTL
	ON TFMS_AIHIST_DTL (
		HIST_ID ASC,
		FCLT_ID ASC,
		SITE_ID ASC,
		TIME ASC
	);

ALTER TABLE TFMS_AIHIST_DTL
	ADD
		CONSTRAINT PK_TFMS_AIHIST_DTL
		PRIMARY KEY (
			HIST_ID,
			FCLT_ID,
			SITE_ID,
			TIME
		);

/* AI 임계치 히스토리 */
CREATE TABLE TFMS_AITHRLDHIST_DTL (
	CTL_ID VARCHAR2(24) NOT NULL, /* 제어_ID */
	CTL_TIME DATE NOT NULL, /* 제어시간 */
	SNSR_ID VARCHAR2(4) NOT NULL, /* 센서_ID */
	MIN_VAL VARCHAR2(6) NOT NULL, /* 최소허용범위 */
	DA_LOW VARCHAR2(6) NOT NULL, /* 위험하위(LOW_DANGER) */
	WA_LOW VARCHAR2(6) NOT NULL, /* 경고하위(LOW_WARNING) */
	CA_LOW VARCHAR2(6) NOT NULL, /* 주위하위(LOW_CAUTION) */
	CA_HIGH VARCHAR2(6) NOT NULL, /* 주의상위(HIGH_CAUTION) */
	WA_HIGH VARCHAR2(6) NOT NULL, /* 경고상위(HIGH_WARNING) */
	DA_HIGH VARCHAR2(6) NOT NULL, /* 위험상위(HIGH_DANGER) */
	MAX_VAL VARCHAR2(6) NOT NULL, /* 최대허용범위 */
	OFFSET VARCHAR2(6), /* 옵셋 */
	TRANS_CHK VARCHAR2(1) NOT NULL /* 트렌젠션성공여부(ACK) */
);

COMMENT ON TABLE TFMS_AITHRLDHIST_DTL IS 'AI 임계치 히스토리';

COMMENT ON COLUMN TFMS_AITHRLDHIST_DTL.CTL_ID IS '제어_ID';

COMMENT ON COLUMN TFMS_AITHRLDHIST_DTL.CTL_TIME IS '제어시간';

COMMENT ON COLUMN TFMS_AITHRLDHIST_DTL.SNSR_ID IS '센서_ID';

COMMENT ON COLUMN TFMS_AITHRLDHIST_DTL.MIN_VAL IS '최소허용범위';

COMMENT ON COLUMN TFMS_AITHRLDHIST_DTL.DA_LOW IS '위험하위(LOW_DANGER)';

COMMENT ON COLUMN TFMS_AITHRLDHIST_DTL.WA_LOW IS '경고하위(LOW_WARNING)';

COMMENT ON COLUMN TFMS_AITHRLDHIST_DTL.CA_LOW IS '주위하위(LOW_CAUTION)';

COMMENT ON COLUMN TFMS_AITHRLDHIST_DTL.CA_HIGH IS '주의상위(HIGH_CAUTION)';

COMMENT ON COLUMN TFMS_AITHRLDHIST_DTL.WA_HIGH IS '경고상위(HIGH_WARNING)';

COMMENT ON COLUMN TFMS_AITHRLDHIST_DTL.DA_HIGH IS '위험상위(HIGH_DANGER)';

COMMENT ON COLUMN TFMS_AITHRLDHIST_DTL.MAX_VAL IS '최대허용범위';

COMMENT ON COLUMN TFMS_AITHRLDHIST_DTL.OFFSET IS '옵셋';

COMMENT ON COLUMN TFMS_AITHRLDHIST_DTL.TRANS_CHK IS '트렌젠션성공여부(ACK)';

CREATE UNIQUE INDEX PK_TFMS_AITHRLDHIST_DTL
	ON TFMS_AITHRLDHIST_DTL (
		CTL_ID ASC,
		CTL_TIME ASC,
		SNSR_ID ASC
	);

ALTER TABLE TFMS_AITHRLDHIST_DTL
	ADD
		CONSTRAINT PK_TFMS_AITHRLDHIST_DTL
		PRIMARY KEY (
			CTL_ID,
			CTL_TIME,
			SNSR_ID
		);

/* AI 임계치 설정 */
CREATE TABLE TFMS_AITHRLD_DTL (
	SNSR_ID VARCHAR2(4) NOT NULL, /* 센서_ID */
	MIN_VAL VARCHAR2(6) NOT NULL, /* 최소허용범위 */
	DA_LOW VARCHAR2(6) NOT NULL, /* 위험하위(DANGER_LOW) */
	WA_LOW VARCHAR2(6) NOT NULL, /* 경고하위(DANGER_LOW) */
	CA_LOW VARCHAR2(6) NOT NULL, /* 주의하위(DANGER_LOW) */
	CA_HIGH VARCHAR2(6) NOT NULL, /* 주의상위(CAUTION_HIGH) */
	WA_HIGH VARCHAR2(6) NOT NULL, /* 경고상위(WARNING_HIGH) */
	DA_HIGH VARCHAR2(6) NOT NULL, /* 위험상위(DANGER_HIGH) */
	MAX_VAL VARCHAR2(6) NOT NULL, /* 최대허용범위 */
	OFFSET VARCHAR2(6), /* 옵셋 */
	TRANS_CHK VARCHAR2(1) NOT NULL /* 트렌젠션성공여부(ACK) */
);

COMMENT ON TABLE TFMS_AITHRLD_DTL IS 'AI 임계치 설정';

COMMENT ON COLUMN TFMS_AITHRLD_DTL.SNSR_ID IS '센서_ID';

COMMENT ON COLUMN TFMS_AITHRLD_DTL.MIN_VAL IS '최소허용범위';

COMMENT ON COLUMN TFMS_AITHRLD_DTL.DA_LOW IS '위험하위(DANGER_LOW)';

COMMENT ON COLUMN TFMS_AITHRLD_DTL.WA_LOW IS '경고하위(DANGER_LOW)';

COMMENT ON COLUMN TFMS_AITHRLD_DTL.CA_LOW IS '주의하위(DANGER_LOW)';

COMMENT ON COLUMN TFMS_AITHRLD_DTL.CA_HIGH IS '주의상위(CAUTION_HIGH)';

COMMENT ON COLUMN TFMS_AITHRLD_DTL.WA_HIGH IS '경고상위(WARNING_HIGH)';

COMMENT ON COLUMN TFMS_AITHRLD_DTL.DA_HIGH IS '위험상위(DANGER_HIGH)';

COMMENT ON COLUMN TFMS_AITHRLD_DTL.MAX_VAL IS '최대허용범위';

COMMENT ON COLUMN TFMS_AITHRLD_DTL.OFFSET IS '옵셋';

COMMENT ON COLUMN TFMS_AITHRLD_DTL.TRANS_CHK IS '트렌젠션성공여부(ACK)';

CREATE UNIQUE INDEX PK_TFMS_AITHRLD_DTL
	ON TFMS_AITHRLD_DTL (
		SNSR_ID ASC
	);

ALTER TABLE TFMS_AITHRLD_DTL
	ADD
		CONSTRAINT PK_TFMS_AITHRLD_DTL
		PRIMARY KEY (
			SNSR_ID
		);

/* 공통 코드 */
CREATE TABLE TFMS_COM_CD (
	CD_ID VARCHAR2(20) NOT NULL, /* 코드_ID */
	CD_VAL VARCHAR2(20) NOT NULL, /* 코드 */
	CD_NM VARCHAR2(100), /* 코드명 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_COM_CD IS '공통 코드';

COMMENT ON COLUMN TFMS_COM_CD.CD_ID IS '코드ID';

COMMENT ON COLUMN TFMS_COM_CD.CD_VAL IS '코드';

COMMENT ON COLUMN TFMS_COM_CD.CD_NM IS '코드명';

COMMENT ON COLUMN TFMS_COM_CD.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_COM_CD
	ON TFMS_COM_CD (
		CD_ID ASC,
		CD_VAL ASC
	);

ALTER TABLE TFMS_COM_CD
	ADD
		CONSTRAINT PK_TFMS_COM_CD
		PRIMARY KEY (
			CD_ID,
			CD_VAL
		);

/* 제어 히스토리 */
CREATE TABLE TFMS_CTLHIST_DTL (
	CTL_ID VARCHAR2(24) NOT NULL, /* 제어_ID */
	CTL_TIME DATE NOT NULL, /* 제어시간 */
	SNSR_ID VARCHAR2(4) NOT NULL, /* 센서_ID */
	CTL_TYPE_CD VARCHAR2(2) NOT NULL, /* 제어코드 */
	CTL_CMD_CD VARCHAR2(2), /* 제어값 */
	CTL_STATUS VARCHAR2(6), /* 제어상태 */
	RES_VAL VARCHAR2(1), /* 응답값(알림용) */
	USR_ID VARCHAR2(10), /* 사용자ID */
	REQ_CD VARCHAR2(1), /* 요청코드(알림용) */
	TRANS_CHK VARCHAR2(1) NOT NULL /* 트렌젠션성공여부(ACK) */
);

COMMENT ON TABLE TFMS_CTLHIST_DTL IS '제어 히스토리';

COMMENT ON COLUMN TFMS_CTLHIST_DTL.CTL_ID IS '제어_ID';

COMMENT ON COLUMN TFMS_CTLHIST_DTL.CTL_TIME IS '제어시간';

COMMENT ON COLUMN TFMS_CTLHIST_DTL.SNSR_ID IS '센서_ID';

COMMENT ON COLUMN TFMS_CTLHIST_DTL.CTL_TYPE_CD IS '제어코드';

COMMENT ON COLUMN TFMS_CTLHIST_DTL.CTL_CMD_CD IS '제어값';

COMMENT ON COLUMN TFMS_CTLHIST_DTL.CTL_STATUS IS '제어상태';

COMMENT ON COLUMN TFMS_CTLHIST_DTL.RES_VAL IS '응답값(알림용)';

COMMENT ON COLUMN TFMS_CTLHIST_DTL.USR_ID IS '사용자ID';

COMMENT ON COLUMN TFMS_CTLHIST_DTL.REQ_CD IS '요청코드(알림용)';

COMMENT ON COLUMN TFMS_CTLHIST_DTL.TRANS_CHK IS '트렌젠션성공여부(ACK)';

CREATE UNIQUE INDEX PK_TFMS_CTLHIST_DTL
	ON TFMS_CTLHIST_DTL (
		CTL_ID ASC,
		CTL_TIME ASC,
		SNSR_ID ASC
	);

ALTER TABLE TFMS_CTLHIST_DTL
	ADD
		CONSTRAINT PK_TFMS_CTLHIST_DTL
		PRIMARY KEY (
			CTL_ID,
			CTL_TIME,
			SNSR_ID
		);

/* DI/DO 히스토리(모니터링) */
CREATE TABLE TFMS_DIDOHIST_DTL (
	HIST_ID VARCHAR2(24) NOT NULL, /* HIST_ID */
	FCLT_ID VARCHAR2(4) NOT NULL, /* 장치_ID */
	SITE_ID VARCHAR2(4) NOT NULL, /* 국소ID */
	TIME DATE NOT NULL, /* 시간 */
	S01 VARCHAR2(1), /* 출입문 */
	S02 VARCHAR2(1), /* 열감지 */
	S03 VARCHAR2(1), /* 연기감지 */
	S04 VARCHAR2(1), /* 누수감지 */
	S05 VARCHAR2(1), /* 냉난방 */
	S06 VARCHAR2(1), /* 전등 */
	S07 VARCHAR2(1), /* 고정감시 */
	S08 VARCHAR2(1), /* 준고정감시 */
	S09 VARCHAR2(1), /* 예비 */
	S10 VARCHAR2(1), /* 예비 */
	S11 VARCHAR2(1), /* 예비 */
	S12 VARCHAR2(1), /* 예비 */
	S13 VARCHAR2(1), /* 예비 */
	TRANS_CHK VARCHAR2(1) NOT NULL /* 트렌젠션성공여부(ACK) */
);

COMMENT ON TABLE TFMS_DIDOHIST_DTL IS 'DI/DO 히스토리(모니터링)';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.HIST_ID IS 'HIST_ID';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.FCLT_ID IS '장치_ID';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.SITE_ID IS '국소ID';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.TIME IS '시간';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.S01 IS '출입문';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.S02 IS '열감지';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.S03 IS '연기감지';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.S04 IS '누수감지';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.S05 IS '냉난방';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.S06 IS '전등';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.S07 IS '고정감시';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.S08 IS '예비';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.S09 IS '예비';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.S10 IS '예비';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.S11 IS '예비';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.S12 IS '예비';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.S13 IS '예비';

COMMENT ON COLUMN TFMS_DIDOHIST_DTL.TRANS_CHK IS '트렌젠션성공여부(ACK)';

CREATE UNIQUE INDEX PK_TFMS_DIDOHIST_DTL
	ON TFMS_DIDOHIST_DTL (
		HIST_ID ASC,
		FCLT_ID ASC,
		SITE_ID ASC,
		TIME ASC
	);

ALTER TABLE TFMS_DIDOHIST_DTL
	ADD
		CONSTRAINT PK_TFMS_DIDOHIST_DTL
		PRIMARY KEY (
			HIST_ID,
			FCLT_ID,
			SITE_ID,
			TIME
		);

/* DI 임계치 히스토리 */
CREATE TABLE TFMS_DIDOTHRLDHIST_DTL (
	CTL_ID VARCHAR2(24) NOT NULL, /* 제어_ID */
	CTL_TIME DATE NOT NULL, /* 제어시간 */
	SNSR_ID VARCHAR2(4) NOT NULL, /* 센서_ID */
	NORMAL VARCHAR2(1) NOT NULL, /* 정상값 */
	LABEL0 VARCHAR2(30), /* 0일때 명칭 */
	LABEL1 VARCHAR2(30), /* 1일때 명칭 */
	EVT_GRADE_CD VARCHAR2(2) NOT NULL, /* 경보등급 */
	TRANS_CHK VARCHAR2(1) NOT NULL /* 트렌젠션성공여부(ACK) */
);

COMMENT ON TABLE TFMS_DIDOTHRLDHIST_DTL IS 'DI 임계치 히스토리';

COMMENT ON COLUMN TFMS_DIDOTHRLDHIST_DTL.CTL_ID IS '제어_ID';

COMMENT ON COLUMN TFMS_DIDOTHRLDHIST_DTL.CTL_TIME IS '제어시간';

COMMENT ON COLUMN TFMS_DIDOTHRLDHIST_DTL.SNSR_ID IS '센서_ID';

COMMENT ON COLUMN TFMS_DIDOTHRLDHIST_DTL.NORMAL IS '정상값';

COMMENT ON COLUMN TFMS_DIDOTHRLDHIST_DTL.LABEL0 IS '0일때 명칭';

COMMENT ON COLUMN TFMS_DIDOTHRLDHIST_DTL.LABEL1 IS '1일때 명칭';

COMMENT ON COLUMN TFMS_DIDOTHRLDHIST_DTL.EVT_GRADE_CD IS '경보등급';

COMMENT ON COLUMN TFMS_DIDOTHRLDHIST_DTL.TRANS_CHK IS '트렌젠션성공여부(ACK)';

CREATE UNIQUE INDEX PK_TFMS_DIDOTHRLDHIST_DTL
	ON TFMS_DIDOTHRLDHIST_DTL (
		CTL_ID ASC,
		CTL_TIME ASC,
		SNSR_ID ASC
	);

ALTER TABLE TFMS_DIDOTHRLDHIST_DTL
	ADD
		CONSTRAINT PK_TFMS_DIDOTHRLDHIST_DTL
		PRIMARY KEY (
			CTL_ID,
			CTL_TIME,
			SNSR_ID
		);

/* DO/DI 임계치 설정 */
CREATE TABLE TFMS_DIDOTHRLD_DTL (
	SNSR_ID VARCHAR2(4) NOT NULL, /* 센서_ID */
	NORMAL VARCHAR2(1) NOT NULL, /* 정상값 */
	LABEL0 VARCHAR2(30), /* 0일때 명칭 */
	LABEL1 VARCHAR2(30), /* 1일때 명칭 */
	EVT_GRADE_CD VARCHAR2(2) NOT NULL, /* 경보등급 */
	TRANS_CHK VARCHAR2(1) NOT NULL /* 트렌젠션성공여부(ACK) */
);

COMMENT ON TABLE TFMS_DIDOTHRLD_DTL IS 'DO/DI 임계치 설정';

COMMENT ON COLUMN TFMS_DIDOTHRLD_DTL.SNSR_ID IS '센서_ID';

COMMENT ON COLUMN TFMS_DIDOTHRLD_DTL.NORMAL IS '정상값';

COMMENT ON COLUMN TFMS_DIDOTHRLD_DTL.LABEL0 IS '0일때 명칭';

COMMENT ON COLUMN TFMS_DIDOTHRLD_DTL.LABEL1 IS '1일때 명칭';

COMMENT ON COLUMN TFMS_DIDOTHRLD_DTL.EVT_GRADE_CD IS '경보등급';

COMMENT ON COLUMN TFMS_DIDOTHRLD_DTL.TRANS_CHK IS '트렌젠션성공여부(ACK)';

CREATE UNIQUE INDEX PK_TFMS_DIDOTHRLD_DTL
	ON TFMS_DIDOTHRLD_DTL (
		SNSR_ID ASC
	);

ALTER TABLE TFMS_DIDOTHRLD_DTL
	ADD
		CONSTRAINT PK_TFMS_DIDOTHRLD_DTL
		PRIMARY KEY (
			SNSR_ID
		);

/* 이벤트 히스토리 */
CREATE TABLE TFMS_EVENT_DTL (
	EVENT_ID VARCHAR2(24) NOT NULL, /* 이벤트ID */
	DETECT_TIME DATE NOT NULL, /* 이벤트시간 */
	SNSR_ID VARCHAR2(4) NOT NULL, /* 센서_ID */
	SNSR_VAL VARCHAR2(6) NOT NULL, /* 센서값 */
	EVT_GRADE_CD VARCHAR2(2) NOT NULL, /* 경보등급 */
	EVT_STATUS_CD VARCHAR2(2) NOT NULL, /* 진행,자동복구,강제복구 */
	FAULT_CD VARCHAR2(2) NOT NULL, /* 네트웍, 응답없음 등 */
	RECOVER_TIME DATE, /* 복구시간 */
	ALARM_YN VARCHAR2(1), /* 알람유무 */
	TRANS_CHK VARCHAR2(1) NOT NULL /* 트렌젠션성공여부(ACK) */
);

COMMENT ON TABLE TFMS_EVENT_DTL IS '이벤트 히스토리';

COMMENT ON COLUMN TFMS_EVENT_DTL.EVENT_ID IS '이벤트ID';

COMMENT ON COLUMN TFMS_EVENT_DTL.DETECT_TIME IS '이벤트시간';

COMMENT ON COLUMN TFMS_EVENT_DTL.SNSR_ID IS '센서_ID';

COMMENT ON COLUMN TFMS_EVENT_DTL.SNSR_VAL IS '센서값';

COMMENT ON COLUMN TFMS_EVENT_DTL.EVT_GRADE_CD IS '경보등급';

COMMENT ON COLUMN TFMS_EVENT_DTL.EVT_STATUS_CD IS '진행,자동복구,강제복구';

COMMENT ON COLUMN TFMS_EVENT_DTL.FAULT_CD IS '네트웍, 응답없음 등';

COMMENT ON COLUMN TFMS_EVENT_DTL.RECOVER_TIME IS '복구시간';

COMMENT ON COLUMN TFMS_EVENT_DTL.ALARM_YN IS '알람유무';

COMMENT ON COLUMN TFMS_EVENT_DTL.TRANS_CHK IS '트렌젠션성공여부(ACK)';

CREATE UNIQUE INDEX PK_TFMS_EVENT_DTL
	ON TFMS_EVENT_DTL (
		EVENT_ID ASC,
		DETECT_TIME ASC,
		SNSR_ID ASC
	);

ALTER TABLE TFMS_EVENT_DTL
	ADD
		CONSTRAINT PK_TFMS_EVENT_DTL
		PRIMARY KEY (
			EVENT_ID,
			DETECT_TIME,
			SNSR_ID
		);

/* 강제복구 정보 */
CREATE TABLE TFMS_EVTDELAY_DTL (
	EVTDELAY_ID VARCHAR2(12) NOT NULL, /* 강제복구_ID */
	POINT_ID VARCHAR2(12), /* POINT_ID */
	START_TIME VARCHAR2(50) NOT NULL, /* 강제복구시점 */
	DELAY_MINUTE VARCHAR2(5) NOT NULL, /* 강제복구적용시간 */
	CREATE_DATE DATE, /* 등록일 */
	UPDATE_DATE DATE, /* 수정일 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_EVTDELAY_DTL IS '강제복구 정보';

COMMENT ON COLUMN TFMS_EVTDELAY_DTL.EVTDELAY_ID IS '강제복구_ID';

COMMENT ON COLUMN TFMS_EVTDELAY_DTL.POINT_ID IS 'POINT_ID';

COMMENT ON COLUMN TFMS_EVTDELAY_DTL.START_TIME IS '강제복구시점';

COMMENT ON COLUMN TFMS_EVTDELAY_DTL.DELAY_MINUTE IS '강제복구적용시간';

COMMENT ON COLUMN TFMS_EVTDELAY_DTL.CREATE_DATE IS '등록일';

COMMENT ON COLUMN TFMS_EVTDELAY_DTL.UPDATE_DATE IS '수정일';

COMMENT ON COLUMN TFMS_EVTDELAY_DTL.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_EVTDELAY_DTL
	ON TFMS_EVTDELAY_DTL (
		EVTDELAY_ID ASC
	);

ALTER TABLE TFMS_EVTDELAY_DTL
	ADD
		CONSTRAINT PK_TFMS_EVTDELAY_DTL
		PRIMARY KEY (
			EVTDELAY_ID
		);

/* RTU/영상/고정감시/고정방탐/준고정등 */
CREATE TABLE TFMS_FCLT_MST (
	FCLT_ID VARCHAR2(4) NOT NULL, /* 장치_ID */
	SITE_ID VARCHAR2(4) NOT NULL, /* 국소_ID */
	FCLT_NM VARCHAR2(60) NOT NULL, /* 장치명 */
	FCLT_CD VARCHAR2(5) NOT NULL, /* RTU,고정,준고정,방탐... */
	IP VARCHAR2(15) NOT NULL, /* IP */
	PORT VARCHAR2(5), /* PORT */
	SEND_CYCLE VARCHAR2(5) NOT NULL, /* 전송주기 */
	UTCK_CYCLE VARCHAR2(5) NOT NULL, /* 시간동기화주기 */
	NOTICE VARCHAR2(5), /* 수집주기(알림용) */
	SRL_NO VARCHAR2(10), /* 시리얼번호(알림용) */
	VER VARCHAR2(20), /* 버젼 */
	GATEWAY VARCHAR2(15), /* 게이트웨이(알림용) */
	SUBNETMASK VARCHAR2(15), /* 서브넷마스크(알림용) */
	HIGH_FCLT_ID VARCHAR2(10), /* 상위장치ID */
	IMG_ID VARCHAR2(10), /* 이미지/아이콘ID */
	POINT_ID VARCHAR2(10), /* 장비위치_ID */
	CREATE_DATE DATE, /* 등록일 */
	CREATE_USR VARCHAR2(20), /* 등록자 */
	UPDATE_DATE DATE, /* 수정일 */
	UPDATE_USR VARCHAR2(20), /* 수정자 */
	COMPANY_CD VARCHAR2(2), /* 제조사코드 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_FCLT_MST IS 'RTU/영상/고정감시/고정방탐/준고정등';

COMMENT ON COLUMN TFMS_FCLT_MST.FCLT_ID IS '장치_ID';

COMMENT ON COLUMN TFMS_FCLT_MST.SITE_ID IS '국소_ID';

COMMENT ON COLUMN TFMS_FCLT_MST.FCLT_NM IS '장치명';

COMMENT ON COLUMN TFMS_FCLT_MST.FCLT_CD IS 'RTU,고정,준고정,방탐...';

COMMENT ON COLUMN TFMS_FCLT_MST.IP IS 'IP';

COMMENT ON COLUMN TFMS_FCLT_MST.PORT IS 'PORT';

COMMENT ON COLUMN TFMS_FCLT_MST.SEND_CYCLE IS '전송주기';

COMMENT ON COLUMN TFMS_FCLT_MST.UTCK_CYCLE IS '시간동기화주기';

COMMENT ON COLUMN TFMS_FCLT_MST.NOTICE IS '수집주기(알림용)';

COMMENT ON COLUMN TFMS_FCLT_MST.SRL_NO IS '시리얼번호(알림용)';

COMMENT ON COLUMN TFMS_FCLT_MST.VER IS '버젼';

COMMENT ON COLUMN TFMS_FCLT_MST.GATEWAY IS '게이트웨이(알림용)';

COMMENT ON COLUMN TFMS_FCLT_MST.SUBNETMASK IS '서브넷마스크(알림용)';

COMMENT ON COLUMN TFMS_FCLT_MST.HIGH_FCLT_ID IS '상위장치ID';

COMMENT ON COLUMN TFMS_FCLT_MST.IMG_ID IS '이미지/아이콘ID';

COMMENT ON COLUMN TFMS_FCLT_MST.POINT_ID IS '장비위치_ID';

COMMENT ON COLUMN TFMS_FCLT_MST.CREATE_DATE IS '등록일';

COMMENT ON COLUMN TFMS_FCLT_MST.CREATE_USR IS '등록자';

COMMENT ON COLUMN TFMS_FCLT_MST.UPDATE_DATE IS '수정일';

COMMENT ON COLUMN TFMS_FCLT_MST.UPDATE_USR IS '수정자';

COMMENT ON COLUMN TFMS_FCLT_MST.COMPANY_CD IS '제조사';

COMMENT ON COLUMN TFMS_FCLT_MST.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_FCLT_MST
	ON TFMS_FCLT_MST (
		FCLT_ID ASC,
		SITE_ID ASC
	);

ALTER TABLE TFMS_FCLT_MST
	ADD
		CONSTRAINT PK_TFMS_FCLT_MST
		PRIMARY KEY (
			FCLT_ID,
			SITE_ID
		);

/* 고정방탐 히스토리(모니터링) */
CREATE TABLE TFMS_FDEHIST_DTL (
	HIST_ID VARCHAR2(24) NOT NULL, /* HIST_ID */
	FCLT_ID VARCHAR2(4) NOT NULL, /* 장치_ID */
	SITE_ID VARCHAR2(4) NOT NULL, /* 국소ID */
	TIME DATE NOT NULL, /* 시간 */
	S01 VARCHAR2(1), /* 방탐처리기 상태 */
	S02 VARCHAR2(1), /* 방탐수신기1 상태 */
	S03 VARCHAR2(1), /* 방탐수신기2 상태 */
	S04 VARCHAR2(1), /* 방탐수신기3 상태 */
	S05 VARCHAR2(1), /* 방탐수신기4 상태 */
	S06 VARCHAR2(1), /* 방탐수신기5 상태 */
	S07 VARCHAR2(1), /* 시스템 상태 */
	S08 VARCHAR2(1), /* 신호처리장치 상태 */
	TRANS_CHK VARCHAR2(1) NOT NULL /* 트렌젠션성공여부(ACK) */
);

COMMENT ON TABLE TFMS_FDEHIST_DTL IS '고정방탐 히스토리(모니터링)';

COMMENT ON COLUMN TFMS_FDEHIST_DTL.HIST_ID IS 'HIST_ID';

COMMENT ON COLUMN TFMS_FDEHIST_DTL.FCLT_ID IS '장치_ID';

COMMENT ON COLUMN TFMS_FDEHIST_DTL.SITE_ID IS '국소ID';

COMMENT ON COLUMN TFMS_FDEHIST_DTL.TIME IS '시간';

COMMENT ON COLUMN TFMS_FDEHIST_DTL.S01 IS '방탐처리기 상태';

COMMENT ON COLUMN TFMS_FDEHIST_DTL.S02 IS '방탐수신기1 상태';

COMMENT ON COLUMN TFMS_FDEHIST_DTL.S03 IS '방탐수신기2 상태';

COMMENT ON COLUMN TFMS_FDEHIST_DTL.S04 IS '방탐수신기3 상태';

COMMENT ON COLUMN TFMS_FDEHIST_DTL.S05 IS '방탐수신기4 상태';

COMMENT ON COLUMN TFMS_FDEHIST_DTL.S06 IS '방탐수신기5 상태';

COMMENT ON COLUMN TFMS_FDEHIST_DTL.S07 IS '시스템 상태';

COMMENT ON COLUMN TFMS_FDEHIST_DTL.S08 IS '신호처리장치 상태';

COMMENT ON COLUMN TFMS_FDEHIST_DTL.TRANS_CHK IS '트렌젠션성공여부(ACK)';

CREATE UNIQUE INDEX PK_TFMS_FDEHIST_DTL
	ON TFMS_FDEHIST_DTL (
		HIST_ID ASC,
		FCLT_ID ASC,
		SITE_ID ASC,
		TIME ASC
	);

ALTER TABLE TFMS_FDEHIST_DTL
	ADD
		CONSTRAINT PK_TFMS_FDEHIST_DTL
		PRIMARY KEY (
			HIST_ID,
			FCLT_ID,
			SITE_ID,
			TIME
		);

/* 고정감시 히스토리(모니터링) */
CREATE TABLE TFMS_FREHIST_DTL (
	HIST_ID VARCHAR2(24) NOT NULL, /* HIST_ID */
	FCLT_ID VARCHAR2(4) NOT NULL, /* 장치_ID */
	SITE_ID VARCHAR2(4) NOT NULL, /* 국소ID */
	TIME DATE NOT NULL, /* 시간 */
	S01 VARCHAR2(1), /* 측정수신기1 상태 */
	S02 VARCHAR2(1), /* 측정수신기2 상태 */
	S03 VARCHAR2(1), /* 복조수신기1 상태 */
	S04 VARCHAR2(1), /* 복조수신기2 상태 */
	S05 VARCHAR2(1), /* 안테나 제어기 상태 */
	S06 VARCHAR2(1), /* 음성복조장치 상태 */
	S07 VARCHAR2(1), /* 신호처리장치 상태 */
	TRANS_CHK VARCHAR2(1) NOT NULL /* 트렌젠션성공여부(ACK) */
);

COMMENT ON TABLE TFMS_FREHIST_DTL IS '고정감시 히스토리(모니터링)';

COMMENT ON COLUMN TFMS_FREHIST_DTL.HIST_ID IS 'HIST_ID';

COMMENT ON COLUMN TFMS_FREHIST_DTL.FCLT_ID IS '장치_ID';

COMMENT ON COLUMN TFMS_FREHIST_DTL.SITE_ID IS '국소ID';

COMMENT ON COLUMN TFMS_FREHIST_DTL.TIME IS '시간';

COMMENT ON COLUMN TFMS_FREHIST_DTL.S01 IS '측정수신기1 상태';

COMMENT ON COLUMN TFMS_FREHIST_DTL.S02 IS '측정수신기2 상태';

COMMENT ON COLUMN TFMS_FREHIST_DTL.S03 IS '복조수신기1 상태';

COMMENT ON COLUMN TFMS_FREHIST_DTL.S04 IS '복조수신기2 상태';

COMMENT ON COLUMN TFMS_FREHIST_DTL.S05 IS '안테나 제어기 상태';

COMMENT ON COLUMN TFMS_FREHIST_DTL.S06 IS '음성복조장치 상태';

COMMENT ON COLUMN TFMS_FREHIST_DTL.S07 IS '신호처리장치 상태';

COMMENT ON COLUMN TFMS_FREHIST_DTL.TRANS_CHK IS '트렌젠션성공여부(ACK)';

CREATE UNIQUE INDEX PK_TFMS_FREHIST_DTL
	ON TFMS_FREHIST_DTL (
		HIST_ID ASC,
		FCLT_ID ASC,
		SITE_ID ASC,
		TIME ASC
	);

ALTER TABLE TFMS_FREHIST_DTL
	ADD
		CONSTRAINT PK_TFMS_FREHIST_DTL
		PRIMARY KEY (
			HIST_ID,
			FCLT_ID,
			SITE_ID,
			TIME
		);

/* 고정감시운영SW 히스토리(모니터링) */
CREATE TABLE TFMS_FRSHIST_DTL (
	HIST_ID VARCHAR2(24) NOT NULL, /* HIST_ID */
	FCLT_ID VARCHAR2(4) NOT NULL, /* 장치_ID */
	SITE_ID VARCHAR2(4) NOT NULL, /* 국소ID */
	TIME DATE NOT NULL, /* 시간 */
	S01 VARCHAR2(1), /* 감시운영 구동상태 */
	S02 VARCHAR2(1), /* 본소DB 연결 상태 */
	S03 VARCHAR2(1), /* 지소DB 연결 상태 */
	S04 VARCHAR2(1), /* 감시장비 메인데몬 실행상태 */
	S05 VARCHAR2(1), /* 전파품질데몬 실행 상태 */
	S06 VARCHAR2(1), /* 불법전파탐사 데몬 실행 상태 */
	S07 VARCHAR2(1), /* 이용률 데몬 실행 상태 */
	S08 VARCHAR2(1), /* 운용감시 데몬 실행 상태2 */
	S09 VARCHAR2(1), /* 음성서버 연결 상태 */
	S10 VARCHAR2(1), /* 원복프로세스 실행 상태 */
	TRANS_CHK VARCHAR2(1) NOT NULL /* 트렌젠션성공여부(ACK) */
);

COMMENT ON TABLE TFMS_FRSHIST_DTL IS '고정감시운영SW 히스토리(모니터링)';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.HIST_ID IS 'HIST_ID';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.FCLT_ID IS '장치_ID';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.SITE_ID IS '국소ID';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.TIME IS '시간';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.S01 IS '감시운영 구동상태';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.S02 IS '본소DB 연결 상태';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.S03 IS '지소DB 연결 상태';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.S04 IS '감시장비 메인데몬 실행상태';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.S05 IS '전파품질데몬 실행 상태';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.S06 IS '불법전파탐사 데몬 실행 상태';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.S07 IS '이용률 데몬 실행 상태';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.S08 IS '운용감시 데몬 실행 상태2';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.S09 IS '음성서버 연결 상태';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.S10 IS '원복프로세스 실행 상태';

COMMENT ON COLUMN TFMS_FRSHIST_DTL.TRANS_CHK IS '트렌젠션성공여부(ACK)';

CREATE UNIQUE INDEX PK_TFMS_FRSHIST_DTL
	ON TFMS_FRSHIST_DTL (
		HIST_ID ASC,
		FCLT_ID ASC,
		SITE_ID ASC,
		TIME ASC
	);

ALTER TABLE TFMS_FRSHIST_DTL
	ADD
		CONSTRAINT PK_TFMS_FRSHIST_DTL
		PRIMARY KEY (
			HIST_ID,
			FCLT_ID,
			SITE_ID,
			TIME
		);

/* 이미지/아이콘 */
CREATE TABLE TFMS_IMG_MST (
	IMG_ID VARCHAR2(12) NOT NULL, /* 이미지ID */
	IMG_NM VARCHAR2(50), /* 이미지명 */
	IMG_TYPE VARCHAR2(2), /* 이미지구분 */
	IMG_SUB_TYPE VARCHAR2(2), /* 이미지상세종류 */
	IMG_BIN BLOB, /* 이미지 */
	CREATE_DATE DATE, /* 등록일 */
	CREATE_USR VARCHAR2(10), /* 등록자 */
	UPDATE_DATE DATE, /* 수정일 */
	UPDATE_USR VARCHAR2(10), /* 수정자 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_IMG_MST IS '이미지/아이콘';

COMMENT ON COLUMN TFMS_IMG_MST.IMG_ID IS '이미지ID';

COMMENT ON COLUMN TFMS_IMG_MST.IMG_NM IS '이미지명';

COMMENT ON COLUMN TFMS_IMG_MST.IMG_TYPE IS '이미지구분';

COMMENT ON COLUMN TFMS_IMG_MST.IMG_SUB_TYPE IS '이미지상세종류';

COMMENT ON COLUMN TFMS_IMG_MST.IMG_BIN IS '이미지';

COMMENT ON COLUMN TFMS_IMG_MST.CREATE_DATE IS '등록일';

COMMENT ON COLUMN TFMS_IMG_MST.CREATE_USR IS '등록자';

COMMENT ON COLUMN TFMS_IMG_MST.UPDATE_DATE IS '수정일';

COMMENT ON COLUMN TFMS_IMG_MST.UPDATE_USR IS '수정자';

COMMENT ON COLUMN TFMS_IMG_MST.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_IMG_MST
	ON TFMS_IMG_MST (
		IMG_ID ASC
	);

ALTER TABLE TFMS_IMG_MST
	ADD
		CONSTRAINT PK_TFMS_IMG_MST
		PRIMARY KEY (
			IMG_ID
		);

/* 경보스케줄 */
CREATE TABLE TFMS_MSGCONFIG_DTL (
	CFG_ID VARCHAR2(12) NOT NULL, /* 스케줄ID */
	MSG_ID VARCHAR2(10) NOT NULL, /* 메시지ID */
	WEEK_DAY VARCHAR2(1) NOT NULL, /* 주간 */
	SEND_INF VARCHAR2(8) NOT NULL, /* 시간별 통보여부 */
	CREATE_DATE DATE NOT NULL, /* 등록일 */
	CREATE_USR VARCHAR2(10) NOT NULL, /* 등록자 */
	UPDATE_DATE DATE NOT NULL, /* 수정일 */
	UPDATE_USR VARCHAR2(10) NOT NULL, /* 수정자 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_MSGCONFIG_DTL IS '경보스케줄';

COMMENT ON COLUMN TFMS_MSGCONFIG_DTL.CFG_ID IS '스케줄ID';

COMMENT ON COLUMN TFMS_MSGCONFIG_DTL.MSG_ID IS '메시지ID';

COMMENT ON COLUMN TFMS_MSGCONFIG_DTL.WEEK_DAY IS '주간';

COMMENT ON COLUMN TFMS_MSGCONFIG_DTL.SEND_INF IS '시간별 통보여부';

COMMENT ON COLUMN TFMS_MSGCONFIG_DTL.CREATE_DATE IS '등록일';

COMMENT ON COLUMN TFMS_MSGCONFIG_DTL.CREATE_USR IS '등록자';

COMMENT ON COLUMN TFMS_MSGCONFIG_DTL.UPDATE_DATE IS '수정일';

COMMENT ON COLUMN TFMS_MSGCONFIG_DTL.UPDATE_USR IS '수정자';

COMMENT ON COLUMN TFMS_MSGCONFIG_DTL.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_MSGCONFIG_DTL
	ON TFMS_MSGCONFIG_DTL (
		CFG_ID ASC,
		MSG_ID ASC
	);

ALTER TABLE TFMS_MSGCONFIG_DTL
	ADD
		CONSTRAINT PK_TFMS_MSGCONFIG_DTL
		PRIMARY KEY (
			CFG_ID,
			MSG_ID
		);

/* 메세지 히스토리 */
CREATE TABLE TFMS_MSGHIST_DTL (
	MSG_ID VARCHAR2(12) NOT NULL, /* 메세지ID */
	TEL VARCHAR2(20) NOT NULL, /* 수신번호 */
	MSG VARCHAR2(255) NOT NULL, /* 문자메세지 */
	CREATE_DATE DATE NOT NULL, /* 등록일 */
	CREATE_USR VARCHAR2(20) NOT NULL, /* 등록자 */
	UPDATE_DATE DATE, /* 수정일 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_MSGHIST_DTL IS '메세지 히스토리';

COMMENT ON COLUMN TFMS_MSGHIST_DTL.MSG_ID IS '메세지ID';

COMMENT ON COLUMN TFMS_MSGHIST_DTL.TEL IS '수신번호';

COMMENT ON COLUMN TFMS_MSGHIST_DTL.MSG IS '문자메세지';

COMMENT ON COLUMN TFMS_MSGHIST_DTL.CREATE_DATE IS '등록일';

COMMENT ON COLUMN TFMS_MSGHIST_DTL.CREATE_USR IS '등록자';

COMMENT ON COLUMN TFMS_MSGHIST_DTL.UPDATE_DATE IS '수정일';

COMMENT ON COLUMN TFMS_MSGHIST_DTL.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_MSGHIST_DTL
	ON TFMS_MSGHIST_DTL (
		MSG_ID ASC
	);

ALTER TABLE TFMS_MSGHIST_DTL
	ADD
		CONSTRAINT PK_TFMS_MSGHIST_DTL
		PRIMARY KEY (
			MSG_ID
		);

/* 장치 위치 마스터 */
CREATE TABLE TFMS_POINT_MST (
	POINT_ID VARCHAR2(12) NOT NULL, /* POINT_ID */
	X VARCHAR2(4), /* X */
	X1 VARCHAR2(4), /* X1 */
	Y VARCHAR2(4), /* Y */
	Y1 VARCHAR2(4), /* Y1 */
	CREATE_DATE DATE, /* 등록일 */
	UPDATE_DATE DATE, /* 수정일 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_POINT_MST IS '장치 위치 마스터';

COMMENT ON COLUMN TFMS_POINT_MST.POINT_ID IS 'POINT_ID';

COMMENT ON COLUMN TFMS_POINT_MST.X IS 'X';

COMMENT ON COLUMN TFMS_POINT_MST.X1 IS 'X1';

COMMENT ON COLUMN TFMS_POINT_MST.Y IS 'Y';

COMMENT ON COLUMN TFMS_POINT_MST.Y1 IS 'Y1';

COMMENT ON COLUMN TFMS_POINT_MST.CREATE_DATE IS '등록일';

COMMENT ON COLUMN TFMS_POINT_MST.UPDATE_DATE IS '수정일';

COMMENT ON COLUMN TFMS_POINT_MST.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_POINT_MST
	ON TFMS_POINT_MST (
		POINT_ID ASC
	);

ALTER TABLE TFMS_POINT_MST
	ADD
		CONSTRAINT PK_TFMS_POINT_MST
		PRIMARY KEY (
			POINT_ID
		);

/* 사용자 접속 내역 */
CREATE TABLE TFMS_SESSION_DTL (
	SESN_ID VARCHAR2(12) NOT NULL, /* 세션ID */
	USER_ID VARCHAR2(10) NOT NULL, /* 사용자ID */
	LOGIN_TIME DATE NOT NULL, /* 장치ID */
	LOGOUT_TIME DATE, /* 로그아웃시간 */
	IP VARCHAR2(15), /* 접속IP */
	STATUS_CD VARCHAR2(1) NOT NULL, /* 연결/종료상태 */
	CREATE_DATE DATE, /* 등록일 */
	UPDATE_DATE DATE, /* 수정일 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_SESSION_DTL IS '사용자 접속 내역';

COMMENT ON COLUMN TFMS_SESSION_DTL.SESN_ID IS '세션ID';

COMMENT ON COLUMN TFMS_SESSION_DTL.USER_ID IS '사용자ID';

COMMENT ON COLUMN TFMS_SESSION_DTL.LOGIN_TIME IS '장치ID';

COMMENT ON COLUMN TFMS_SESSION_DTL.LOGOUT_TIME IS '로그아웃시간';

COMMENT ON COLUMN TFMS_SESSION_DTL.IP IS '접속IP';

COMMENT ON COLUMN TFMS_SESSION_DTL.STATUS_CD IS '연결/종료상태';

COMMENT ON COLUMN TFMS_SESSION_DTL.CREATE_DATE IS '등록일';

COMMENT ON COLUMN TFMS_SESSION_DTL.UPDATE_DATE IS '수정일';

COMMENT ON COLUMN TFMS_SESSION_DTL.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_SESSION_DTL
	ON TFMS_SESSION_DTL (
		SESN_ID ASC,
		USER_ID ASC,
		LOGIN_TIME ASC
	);

ALTER TABLE TFMS_SESSION_DTL
	ADD
		CONSTRAINT PK_TFMS_SESSION_DTL
		PRIMARY KEY (
			SESN_ID,
			USER_ID,
			LOGIN_TIME
		);

/* 국소(사이트) 마스터 */
CREATE TABLE TFMS_SITE_MST (
	SITE_ID VARCHAR2(4) NOT NULL, /* 국소_ID */
	SITE_NM VARCHAR2(60) NOT NULL, /* 국소명 */
	SITE_ADDR VARCHAR2(100), /* 국소주소 */
	SITE_CD VARCHAR2(2) NOT NULL, /* 국소코드 */
	HIGH_SITE_ID VARCHAR2(4), /* 상위국소ID */
	IMG_ID VARCHAR2(14) NOT NULL, /* 이미지/아이콘ID */
	CREATE_DATE DATE, /* 등록일 */
	CREATE_USR VARCHAR2(10), /* 등록자 */
	UPDATE_DATE DATE, /* 수정일 */
	UPDATE_USR VARCHAR2(10), /* 수정자 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_SITE_MST IS '국소(사이트) 마스터';

COMMENT ON COLUMN TFMS_SITE_MST.SITE_ID IS '국소ID';

COMMENT ON COLUMN TFMS_SITE_MST.SITE_NM IS '국소명';

COMMENT ON COLUMN TFMS_SITE_MST.SITE_ADDR IS '국소주소';

COMMENT ON COLUMN TFMS_SITE_MST.SITE_CD IS '(관리소, 지소, 원격국.....)';

COMMENT ON COLUMN TFMS_SITE_MST.HIGH_SITE_ID IS '상위국소ID';

COMMENT ON COLUMN TFMS_SITE_MST.IMG_ID IS '이미지/아이콘ID';

COMMENT ON COLUMN TFMS_SITE_MST.CREATE_DATE IS '등록일';

COMMENT ON COLUMN TFMS_SITE_MST.CREATE_USR IS '등록자';

COMMENT ON COLUMN TFMS_SITE_MST.UPDATE_DATE IS '수정일';

COMMENT ON COLUMN TFMS_SITE_MST.UPDATE_USR IS '수정자';

COMMENT ON COLUMN TFMS_SITE_MST.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_SITE_MST
	ON TFMS_SITE_MST (
		SITE_ID ASC
	);

ALTER TABLE TFMS_SITE_MST
	ADD
		CONSTRAINT PK_TFMS_SITE_MST
		PRIMARY KEY (
			SITE_ID
		);

/* 센서 처리관리(전원제어..) */
CREATE TABLE TFMS_SNSRMETHOD_MST (
	SNSR_ID VARCHAR2(4) NOT NULL, /* 센서_ID */
	CH1_ID VARCHAR2(4), /* 채널1_ID */
	CH2_ID VARCHAR2(4), /* 채널2_ID */
	CH3_ID VARCHAR2(4), /* 채널3_ID */
	CH4_ID VARCHAR2(4), /* 채널4_ID */
	CH5_ID VARCHAR2(4), /* 채널5_ID */
	CH6_ID VARCHAR2(4), /* 채널6_ID */
	CH1_VAL VARCHAR2(6), /* 채널1_값 */
	CH2_VAL VARCHAR2(6), /* 채널2_값 */
	CH3_VAL VARCHAR2(6), /* 채널3_값 */
	CH4_VAL VARCHAR2(6), /* 채널4_값 */
	CH5_VAL VARCHAR2(6), /* 채널5_값 */
	CH6_VAL VARCHAR2(6), /* 채널6_값 */
	CH1_PORT VARCHAR2(5), /* 채널1_포트 */
	CH2_PORT VARCHAR2(5), /* 채널2_포트 */
	CH3_PORT VARCHAR2(5), /* 채널3_포트 */
	CH4_PORT VARCHAR2(5), /* 채널4_포트 */
	CH5_PORT VARCHAR2(5), /* 채널5_포트 */
	CH6_PORT VARCHAR2(5), /* 채널6_포트 */
	SNSR_GROUP VARCHAR2(5), /* 센서그룹 */
	CREATE_DATE DATE NOT NULL, /* 등록일 */
	UPDATE_DATE DATE NOT NULL, /* 수정일 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_SNSRMETHOD_MST IS '센서 처리관리(전원제어..)';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.SNSR_ID IS '센서ID';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH1_ID IS '채널1_ID';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH2_ID IS '채널2_ID';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH3_ID IS '채널3_ID';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH4_ID IS '채널4_ID';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH5_ID IS '채널5_ID';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH6_ID IS '채널6_ID';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH1_VAL IS '채널1_값';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH2_VAL IS '채널2_값';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH3_VAL IS '채널3_값';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH4_VAL IS '채널4_값';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH5_VAL IS '채널5_값';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH6_VAL IS '채널6_값';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH1_PORT IS '채널1_포트';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH2_PORT IS '채널2_포트';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH3_PORT IS '채널3_포트';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH4_PORT IS '채널4_포트';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH5_PORT IS '채널5_포트';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CH6_PORT IS '채널6_포트';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.SNSR_GROUP IS '센서그룹';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.CREATE_DATE IS '등록일';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.UPDATE_DATE IS '수정일';

COMMENT ON COLUMN TFMS_SNSRMETHOD_MST.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_SNSRMETHOD_MST
	ON TFMS_SNSRMETHOD_MST (
		SNSR_ID ASC
	);

ALTER TABLE TFMS_SNSRMETHOD_MST
	ADD
		CONSTRAINT PK_TFMS_SNSRMETHOD_MST
		PRIMARY KEY (
			SNSR_ID
		);

/* 센서마스터 */
CREATE TABLE TFMS_SNSR_MST (
	SNSR_ID VARCHAR2(4) NOT NULL, /* 센서_ID */
	FCLT_ID VARCHAR2(4) NOT NULL, /* 장치_ID */
	SITE_ID VARCHAR2(4) NOT NULL, /* 국소_ID */
	PORT VARCHAR2(5), /* 직렬포트번호 */
	SNSR_NO VARCHAR2(2) NOT NULL, /* 센서순서 */
	SNSR_IDX VARCHAR2(2) NOT NULL, /* 센서순서 */
	SNSR_NM VARCHAR2(60) NOT NULL, /* 센서명 */
	SNSR_TYPE VARCHAR2(5) NOT NULL, /* AI, DO, DI... */
	SNSR_SUB_TYPE VARCHAR2(5) NOT NULL, /* 열,온도,습도.... */
	VER VARCHAR2(20), /* 버젼 */
	IP VARCHAR2(15), /* IP */
	HIGH_SNSR_ID VARCHAR2(10), /* 상위센서ID */
	NOTICE VARCHAR2(1), /* SMS통보 */
	ALARM VARCHAR2(1), /* 알람여부 */
	IMG_ID VARCHAR2(14), /* 이미지/아이콘ID */
	CREATE_DATE DATE, /* 등록일 */
	CREATE_USR VARCHAR2(20), /* 등록자 */
	UPDATE_DATE DATE, /* 수정일 */
	UPDATE_USR VARCHAR2(20), /* 수정자 */
	COL_NM VARCHAR2(3), /* COL_NM */
	POINT_ID VARCHAR2(14), /* POINT_ID */
	SNSR_HW_CD VARCHAR2(2), /* 하드웨어 코드 */
	COMPANY_CD VARCHAR2(2), /* 제조사 코드 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_SNSR_MST IS '센서마스터';

COMMENT ON COLUMN TFMS_SNSR_MST.SNSR_ID IS '센서_ID';

COMMENT ON COLUMN TFMS_SNSR_MST.FCLT_ID IS '장치_ID';

COMMENT ON COLUMN TFMS_SNSR_MST.SITE_ID IS '국소_ID';

COMMENT ON COLUMN TFMS_SNSR_MST.PORT IS '직렬포트번호';

COMMENT ON COLUMN TFMS_SNSR_MST.SNSR_NO IS '센서순서';

COMMENT ON COLUMN TFMS_SNSR_MST.SNSR_IDX IS '센서순서';

COMMENT ON COLUMN TFMS_SNSR_MST.SNSR_NM IS '센서명';

COMMENT ON COLUMN TFMS_SNSR_MST.SNSR_TYPE IS 'AI, DO, DI...';

COMMENT ON COLUMN TFMS_SNSR_MST.SNSR_SUB_TYPE IS '열,온도,습도....';

COMMENT ON COLUMN TFMS_SNSR_MST.VER IS '버젼';

COMMENT ON COLUMN TFMS_SNSR_MST.IP IS 'IP';

COMMENT ON COLUMN TFMS_SNSR_MST.HIGH_SNSR_ID IS '상위센서ID';

COMMENT ON COLUMN TFMS_SNSR_MST.NOTICE IS 'SMS통보';

COMMENT ON COLUMN TFMS_SNSR_MST.ALARM IS '알람여부';

COMMENT ON COLUMN TFMS_SNSR_MST.IMG_ID IS 'OP용';

COMMENT ON COLUMN TFMS_SNSR_MST.CREATE_DATE IS '등록일';

COMMENT ON COLUMN TFMS_SNSR_MST.CREATE_USR IS '등록자';

COMMENT ON COLUMN TFMS_SNSR_MST.UPDATE_DATE IS '수정일';

COMMENT ON COLUMN TFMS_SNSR_MST.UPDATE_USR IS '수정자';

COMMENT ON COLUMN TFMS_SNSR_MST.COL_NM IS 'COL_NM';

COMMENT ON COLUMN TFMS_SNSR_MST.POINT_ID IS 'OP용';

COMMENT ON COLUMN TFMS_SNSR_MST.SNSR_HW_CD IS '하드웨어 코드';

COMMENT ON COLUMN TFMS_SNSR_MST.COMPANY_CD IS '제조사 코드';

COMMENT ON COLUMN TFMS_SNSR_MST.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_SNSR_MST
	ON TFMS_SNSR_MST (
		SNSR_ID ASC,
		FCLT_ID ASC,
		SITE_ID ASC
	);

ALTER TABLE TFMS_SNSR_MST
	ADD
		CONSTRAINT PK_TFMS_SNSR_MST
		PRIMARY KEY (
			SNSR_ID,
			FCLT_ID,
			SITE_ID
		);

/* 알람 음성파일 */
CREATE TABLE TFMS_SOUND_DTL (
	SOUND_ID VARCHAR2(14) NOT NULL, /* 사운드_ID */
	SOUND_NM VARCHAR2(60) NOT NULL, /* 사운드명 */
	SOUND_CD VARCHAR2(2) NOT NULL, /* 사운드_BIN */
	SOUND_BIN BLOB NOT NULL, /* USER_ID */
	CREATE_DATE DATE NOT NULL, /* 등록일 */
	CREATE_USR VARCHAR2(10) NOT NULL, /* 등록자 */
	UPDATE_DATE DATE, /* 수정일 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_SOUND_DTL IS '알람 음성파일';

COMMENT ON COLUMN TFMS_SOUND_DTL.SOUND_ID IS '사운드_ID';

COMMENT ON COLUMN TFMS_SOUND_DTL.SOUND_NM IS '사운드명';

COMMENT ON COLUMN TFMS_SOUND_DTL.SOUND_CD IS '사운드_BIN';

COMMENT ON COLUMN TFMS_SOUND_DTL.SOUND_BIN IS 'USER_ID';

COMMENT ON COLUMN TFMS_SOUND_DTL.CREATE_DATE IS '등록일';

COMMENT ON COLUMN TFMS_SOUND_DTL.CREATE_USR IS '등록자';

COMMENT ON COLUMN TFMS_SOUND_DTL.UPDATE_DATE IS '수정일';

COMMENT ON COLUMN TFMS_SOUND_DTL.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_SOUND_DTL
	ON TFMS_SOUND_DTL (
		SOUND_ID ASC
	);

ALTER TABLE TFMS_SOUND_DTL
	ADD
		CONSTRAINT PK_TFMS_SOUND_DTL
		PRIMARY KEY (
			SOUND_ID
		);

/* 준고정 히스토리(모니터링) */
CREATE TABLE TFMS_SREHIST_DTL (
	HIST_ID VARCHAR2(24) NOT NULL, /* HIST_ID */
	FCLT_ID VARCHAR2(4) NOT NULL, /* 장치_ID */
	SITE_ID VARCHAR2(4) NOT NULL, /* 국소ID */
	TIME DATE NOT NULL, /* 시간 */
	S01 VARCHAR2(1), /* 측정수신기 상태 */
	S02 VARCHAR2(1), /* 디지털 처리부 상태 */
	S03 VARCHAR2(1), /* 문열림 상태 */
	TRANS_CHK VARCHAR2(1) NOT NULL /* 트렌젠션성공여부(ACK) */
);

COMMENT ON TABLE TFMS_SREHIST_DTL IS '준고정 히스토리(모니터링)';

COMMENT ON COLUMN TFMS_SREHIST_DTL.HIST_ID IS 'HIST_ID';

COMMENT ON COLUMN TFMS_SREHIST_DTL.FCLT_ID IS '장치_ID';

COMMENT ON COLUMN TFMS_SREHIST_DTL.SITE_ID IS '국소ID';

COMMENT ON COLUMN TFMS_SREHIST_DTL.TIME IS '시간';

COMMENT ON COLUMN TFMS_SREHIST_DTL.S01 IS '측정수신기 상태';

COMMENT ON COLUMN TFMS_SREHIST_DTL.S02 IS '디지털 처리부 상태';

COMMENT ON COLUMN TFMS_SREHIST_DTL.S03 IS '문열림 상태';

COMMENT ON COLUMN TFMS_SREHIST_DTL.TRANS_CHK IS '트렌젠션성공여부(ACK)';

CREATE UNIQUE INDEX PK_TFMS_SREHIST_DTL
	ON TFMS_SREHIST_DTL (
		HIST_ID ASC,
		FCLT_ID ASC,
		SITE_ID ASC,
		TIME ASC
	);

ALTER TABLE TFMS_SREHIST_DTL
	ADD
		CONSTRAINT PK_TFMS_SREHIST_DTL
		PRIMARY KEY (
			HIST_ID,
			FCLT_ID,
			SITE_ID,
			TIME
		);

/* 시스템장애 히스토리 */
CREATE TABLE TFMS_SYSHIST_DTL (
	HIST_ID VARCHAR2(24) NOT NULL, /* HIST_ID */
	SITE_ID VARCHAR2(4) NOT NULL, /* 국소ID */
	TIME DATE NOT NULL, /* 시간 */
	FCLT_ID VARCHAR2(4) NOT NULL, /* 장비ID */
	ERROR_CD VARCHAR2(5) NOT NULL, /* 장애종류(네트워 등) */
	IP VARCHAR2(15), /* 아이피 */
	PORT VARCHAR2(5), /* 포트 */
	RTU_VAL VARCHAR2(5) NOT NULL, /* (알람용) */
	NOTI_CD VARCHAR2(1) NOT NULL, /* (알람용) */
	TRANS_CHK VARCHAR2(1) NOT NULL /* 트렌젠션성공여부(ACK) */
);

COMMENT ON TABLE TFMS_SYSHIST_DTL IS '시스템장애 히스토리';

COMMENT ON COLUMN TFMS_SYSHIST_DTL.HIST_ID IS 'HIST_ID';

COMMENT ON COLUMN TFMS_SYSHIST_DTL.SITE_ID IS '국소ID';

COMMENT ON COLUMN TFMS_SYSHIST_DTL.TIME IS '시간';

COMMENT ON COLUMN TFMS_SYSHIST_DTL.FCLT_ID IS '장비ID';

COMMENT ON COLUMN TFMS_SYSHIST_DTL.ERROR_CD IS '장애종류(네트워 등)';

COMMENT ON COLUMN TFMS_SYSHIST_DTL.IP IS '아이피';

COMMENT ON COLUMN TFMS_SYSHIST_DTL.PORT IS '포트';

COMMENT ON COLUMN TFMS_SYSHIST_DTL.RTU_VAL IS '(알람용)';

COMMENT ON COLUMN TFMS_SYSHIST_DTL.NOTI_CD IS '(알람용)';

COMMENT ON COLUMN TFMS_SYSHIST_DTL.TRANS_CHK IS '트렌젠션성공여부(ACK)';

CREATE UNIQUE INDEX PK_TFMS_SYSHIST_DTL
	ON TFMS_SYSHIST_DTL (
		HIST_ID ASC,
		SITE_ID ASC,
		TIME ASC,
		FCLT_ID ASC
	);

ALTER TABLE TFMS_SYSHIST_DTL
	ADD
		CONSTRAINT PK_TFMS_SYSHIST_DTL
		PRIMARY KEY (
			HIST_ID,
			SITE_ID,
			TIME,
			FCLT_ID
		);

/* 경보 지침 */
CREATE TABLE TFMS_TROUBLESHOOT_DTL (
	TROUBLESHOOT_ID VARCHAR2(14) NOT NULL, /* 경보ID */
	FCLT_ID VARCHAR2(4) NOT NULL, /* 장치ID */
	SNSR_ID VARCHAR2(4) NOT NULL, /* 센서ID */
	MSG VARCHAR2(255) NOT NULL, /* 내용 */
	CREATE_DATE DATE NOT NULL, /* 등록일 */
	CREATE_USR VARCHAR2(10) NOT NULL, /* 등록자 */
	UPDATE_DATE DATE NOT NULL, /* 수정일 */
	UPDATE_USR VARCHAR2(10) NOT NULL, /* 수정자 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_TROUBLESHOOT_DTL IS '경보 지침';

COMMENT ON COLUMN TFMS_TROUBLESHOOT_DTL.TROUBLESHOOT_ID IS '경보ID';

COMMENT ON COLUMN TFMS_TROUBLESHOOT_DTL.FCLT_ID IS '장치ID';

COMMENT ON COLUMN TFMS_TROUBLESHOOT_DTL.SNSR_ID IS '센서ID';

COMMENT ON COLUMN TFMS_TROUBLESHOOT_DTL.MSG IS '내용';

COMMENT ON COLUMN TFMS_TROUBLESHOOT_DTL.CREATE_DATE IS '등록일';

COMMENT ON COLUMN TFMS_TROUBLESHOOT_DTL.CREATE_USR IS '등록자';

COMMENT ON COLUMN TFMS_TROUBLESHOOT_DTL.UPDATE_DATE IS '수정일';

COMMENT ON COLUMN TFMS_TROUBLESHOOT_DTL.UPDATE_USR IS '수정자';

COMMENT ON COLUMN TFMS_TROUBLESHOOT_DTL.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_TROUBLESHOOT_DTL
	ON TFMS_TROUBLESHOOT_DTL (
		TROUBLESHOOT_ID ASC,
		FCLT_ID ASC,
		SNSR_ID ASC
	);

ALTER TABLE TFMS_TROUBLESHOOT_DTL
	ADD
		CONSTRAINT PK_TFMS_TROUBLESHOOT_DTL
		PRIMARY KEY (
			TROUBLESHOOT_ID,
			FCLT_ID,
			SNSR_ID
		);

/* 사용자 마스터 */
CREATE TABLE TFMS_USER_MST (
	USER_ID VARCHAR2(10) NOT NULL, /* 사용자_ID */
	AUTH_CD VARCHAR2(4) NOT NULL, /* 권한코드 */
	USER_NM VARCHAR2(64) NOT NULL, /* 사용자명 */
	PASSWD VARCHAR2(64) NOT NULL, /* 패스워드 */
	DEPARTMENT_CD VARCHAR2(5), /* 부서코드 */
	POSITION_CD VARCHAR2(5), /* 직책 */
	MOBILE VARCHAR2(64) NOT NULL, /* 핸폰 */
	TEL1 VARCHAR2(64), /* 전번 */
	TEL2 VARCHAR2(64), /* 전번 */
	EMAIL VARCHAR2(96), /* 이메일 */
	WORK_CD VARCHAR2(5) NOT NULL, /* 근무,퇴사,휴가... */
	CREATE_DATE DATE, /* 등록일 */
	CREATE_USR VARCHAR2(20), /* 등록자 */
	UPDATE_DATE DATE, /* 수정일 */
	UPDATE_USR VARCHAR2(20), /* 수정자 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_USER_MST IS '사용자 마스터';

COMMENT ON COLUMN TFMS_USER_MST.USER_ID IS '사용자ID';

COMMENT ON COLUMN TFMS_USER_MST.AUTH_CD IS '권한코드';

COMMENT ON COLUMN TFMS_USER_MST.USER_NM IS '사용자명';

COMMENT ON COLUMN TFMS_USER_MST.PASSWD IS '패스워드';

COMMENT ON COLUMN TFMS_USER_MST.DEPARTMENT_CD IS '부서코드';

COMMENT ON COLUMN TFMS_USER_MST.POSITION_CD IS '직책';

COMMENT ON COLUMN TFMS_USER_MST.MOBILE IS '핸폰';

COMMENT ON COLUMN TFMS_USER_MST.TEL1 IS '전번';

COMMENT ON COLUMN TFMS_USER_MST.TEL2 IS '전번';

COMMENT ON COLUMN TFMS_USER_MST.EMAIL IS '이메일';

COMMENT ON COLUMN TFMS_USER_MST.WORK_CD IS '근무,퇴사,휴가...';

COMMENT ON COLUMN TFMS_USER_MST.CREATE_DATE IS '등록일';

COMMENT ON COLUMN TFMS_USER_MST.CREATE_USR IS '등록자';

COMMENT ON COLUMN TFMS_USER_MST.UPDATE_DATE IS '수정일';

COMMENT ON COLUMN TFMS_USER_MST.UPDATE_USR IS '수정자';

COMMENT ON COLUMN TFMS_USER_MST.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_USER_MST
	ON TFMS_USER_MST (
		USER_ID ASC
	);

ALTER TABLE TFMS_USER_MST
	ADD
		CONSTRAINT PK_TFMS_USER_MST
		PRIMARY KEY (
			USER_ID
		);

/* 사용자 관리 장비 */
CREATE TABLE TFMS_USROBJ_DTL (
	USER_ID VARCHAR2(10) NOT NULL, /* 사용자ID */
	SITE_ID VARCHAR2(4) NOT NULL, /* 국소ID */
	CREATE_DATE DATE, /* 등록일 */
	UPDATE_DATE DATE, /* 수정일 */
	SYN_CD VARCHAR2(1) NOT NULL /* 업데이트여부 */
);

COMMENT ON TABLE TFMS_USROBJ_DTL IS '사용자 관리 장비';

COMMENT ON COLUMN TFMS_USROBJ_DTL.USER_ID IS '사용자ID';

COMMENT ON COLUMN TFMS_USROBJ_DTL.SITE_ID IS '국소ID';

COMMENT ON COLUMN TFMS_USROBJ_DTL.CREATE_DATE IS '등록일';

COMMENT ON COLUMN TFMS_USROBJ_DTL.UPDATE_DATE IS '수정일';

COMMENT ON COLUMN TFMS_USROBJ_DTL.SYN_CD IS '업데이트여부';

CREATE UNIQUE INDEX PK_TFMS_USROBJ_DTL
	ON TFMS_USROBJ_DTL (
		USER_ID ASC,
		SITE_ID ASC
	);

ALTER TABLE TFMS_USROBJ_DTL
	ADD
		CONSTRAINT PK_TFMS_USROBJ_DTL
		PRIMARY KEY (
			USER_ID,
			SITE_ID
		);